<!DOCTYPE html>
<html>
  <head>
    <title>Tree AR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
  </head>
  <body style="margin:0; overflow:hidden;">
    <a-scene embedded arjs="trackingMethod: best; sourceType: webcam;">
      <!-- Marker -->
      <a-marker type="pattern" url="markers/pattern-stethoscope.patt">
        <a-entity
          gltf-model="assets/models/doctors_stethoscope.glb"
          scale="0.5 0.5 0.5"
          position="0 0 0">
        </a-entity>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>

    <script>
      localStorage.setItem("TreeChecked", "true");

      const btn = document.createElement("button");
      btn.innerText = "Take Photo & Upload";
      btn.style.position = "absolute";
      btn.style.bottom = "20px";
      btn.style.left = "50%";
      btn.style.transform = "translateX(-50%)";
      btn.style.padding = "10px 20px";
      btn.style.fontSize = "16px";
      btn.style.zIndex = "999";
      document.body.appendChild(btn);

      btn.onclick = () => {
        const scene = document.querySelector("a-scene").components.screenshot.getCanvas("perspective");
        const dataUrl = scene.toDataURL("image/png");
        window.open("https://padlet.com/roxloon777/campus-hunt-wall-of-fame-gkek97r08b9p9047", "_blank");
      };
    </script>
  </body>
</html>
