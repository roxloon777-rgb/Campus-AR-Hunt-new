<!DOCTYPE html>
<html>
  <head>
    <title>Law Building AR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="https://unpkg.com/aframe-screenshot-component@1.0.0/dist/aframe-screenshot-component.min.js"></script>
  </head>
  <body style="margin:0; overflow:hidden;">
    <a-scene embedded arjs="trackingMethod: best; sourceType: webcam;">
      
      <!-- Marker -->
      <a-marker type="pattern" url="assets/lab-coat.patt">
        <!-- Example 3D model -->
        <a-entity 
          gltf-model="assets/models/lcartoon_monkey_doctor_wearing_lab_coat.glb" 
          scale="0.5 0.5 0.5" 
          position="0 0 0">
        </a-entity>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      // Mark as checked when page is visited
      localStorage.setItem("LawbuildingChecked", "true");

      // Photo button
      const btn = document.createElement("button");
      btn.innerText = "Take Photo & Upload";
      btn.style.position = "absolute";
      btn.style.bottom = "20px";
      btn.style.left = "50%";
      btn.style.transform = "translateX(-50%)";
      btn.style.padding = "10px 20px";
      btn.style.fontSize = "16px";
      btn.style.zIndex = "999";
      document.body.appendChild(btn);

      btn.onclick = () => {
        // Take screenshot
        const scene = document.querySelector("a-scene").components.screenshot.getCanvas("perspective");
        const dataUrl = scene.toDataURL("image/png");

        // Open Padlet upload page
        window.open("https://padlet.com/roxloon777/campus-hunt-wall-of-fame-gkek97r08b9p9047", "_blank");
      };
    </script>
  </body>
</html>
